const toggler=document.querySelector("#toggler"),navbar=document.querySelector(".nav");toggler.addEventListener("click",e=>{navbar.classList.toggle("nav_expanded")});const dropDown=document.querySelector(".dropdown"),dropDownMenu=document.querySelector(".dropdown-menu");function showMenu(){dropDownMenu.classList.remove("opacity-0","invisible","translate-y-2"),dropDownMenu.classList.add("opacity-100","visible","translate-y-0")}function hideMenu(){dropDownMenu.classList.remove("opacity-100","visible","translate-y-0"),dropDownMenu.classList.add("opacity-0","invisible","translate-y-2")}dropDown.addEventListener("mouseenter",showMenu),dropDown.addEventListener("mouseleave",hideMenu);const toggleTheme=document.getElementById("theme-toggle"),htmlEl=document.documentElement,preferDark=window.matchMedia("(prefers-color-scheme:dark)").matches;preferDark?(htmlEl.classList.add("dark"),localStorage.setItem("theme","dark")):(htmlEl.classList.remove("dark"),localStorage.setItem("theme","light")),toggleTheme.addEventListener("change",()=>{toggleTheme.checked?(htmlEl.classList.add("dark"),localStorage.setItem("theme","dark")):(htmlEl.classList.remove("dark"),localStorage.setItem("theme","light"))});const projectItems=[{id:1,category:"html-css",title:"سایت تپسی",description:" Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet alias rem autem ipsamLorem,",link:"https://tapsi.ir",createdAt:"6/6/2023"},{id:2,category:"js",title:"سبدخرید",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet alias rem autem ipsam",link:"https://tapsi.ir/",createdAt:"6/7/2023"},{id:3,category:"tailwind",title:"صفحه اصلی و صفحه محصول یک سایت فروشگاهی",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet alias rem autem ipsam",link:"https://tapsi.ir",createdAt:"6/8/2024"},{id:4,category:"react",title:" پروژه  rick and morty",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet alias rem autem ipsam",link:"https://tapsi.ir",createdAt:"2/14/2024"},{id:5,category:"next",title:"shop-user",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet alias rem autem ipsam",link:"https://tapsi.ir",createdAt:"6/11/2024"},{id:6,category:"seo",title:"نمونه سایت سئو شده",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet alias rem autem ipsam",link:"https://tapsi.ir",createdAt:"6/4/2025"}],projectSection=document.querySelector(".project_section"),btns=document.querySelectorAll(".btn-filter"),message=document.getElementById("categoryMessage"),selectedCategories=new Set;function displayItem(e){let t=e.map(function(e){return`<div class="project-item outline-0 shadow-lg rounded-xl p-8 bg-gray-200 max-w-6xl mx-auto">\n        <h2 class="text-2xl text-purple-900">${e.title}</h2>\n       <div dir="ltr" class="flex items-center"><p class="badge">${e.category}</p></div>\n        <p class="dark:text-black pt-8 pb-4 border-b border-b-gray-300">${e.description}</p>\n        <p class="pt-4 text-left text-gray-600" >${e.createdAt}</p>\n        <a class="text-left block text-gray-600 pt-8 text-2xl hover:text-gray-400" href=${e.link} target="_blank" rel="noopener noreferrer">${e.link}</a>\n      </div>`}).join("");projectSection.innerHTML=t}window.addEventListener("DOMContentLoaded",()=>{displayItem(projectItems)}),btns.forEach(e=>{e.addEventListener("click",t=>{const s=t.currentTarget.dataset.category;if("all"===s)return selectedCategories.clear(),btns.forEach(e=>e.classList.remove("active-filter-btn")),e.classList.add("active-filter-btn"),void displayItem(projectItems);document.querySelector("[data-category='all']")?.classList.remove("active-filter-btn"),selectedCategories.has(s)?(selectedCategories.delete(s),e.classList.remove("active-filter-btn")):(selectedCategories.add(s),e.classList.add("active-filter-btn"));const a=projectItems.filter(e=>selectedCategories.has(e.category));0===selectedCategories.size?(message.textContent="",displayItem(projectItems)):0===a.length?(message.textContent="پروژه ای با این دسته بندی وجود  ندارد",projectItems.innerHTML=""):(message.textContent="",displayItem(a))})});const filterDateBtn=document.getElementById("filterDateBtn"),startDateInput=document.getElementById("startDate"),endDateInput=document.getElementById("endDate"),dateMessage=document.getElementById("dateMessage");filterDateBtn.addEventListener("click",()=>{dateMessage.textContent="";const e=startDateInput.value,t=endDateInput.value;if(!e||!t)return void alert("لطفاً هر دو تاریخ را وارد کنید.");const s=new Date(e);s.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const n=projectItems.filter(e=>{const t=new Date(e.createdAt);return t>=s&&t<=a});0===n.length?(dateMessage.textContent="پروژه‌ای در این بازه‌ی زمانی وجود ندارد",projectSection.innerHTML=""):(dateMessage.textContent="",displayItem(n))});const nameInput=document.getElementById("name"),userNameInput=document.getElementById("userName"),messageInput=document.getElementById("message"),nameFeedback=document.getElementById("nameCheck"),userNameFeedback=document.getElementById("userNameCheck"),messageFeedback=document.getElementById("messageCheck"),myForm=document.getElementById("getInTouch"),subBtn=document.getElementById("subBtn"),inputItems=[{input:document.getElementById("name"),feedback:document.getElementById("nameCheck"),regEx:/^[a-zA-z0-9آ-ی\s_]{5,20}$/},{input:document.getElementById("userName"),feedback:document.getElementById("userNameCheck"),regEx:/^[a-zA-z0-9@.]{11,30}$/},{input:document.getElementById("message"),feedback:document.getElementById("messageCheck"),regEx:/^[a-zA-z0-9آ-ی.@\s\-_*+]{30,500}$/}];for(const e of inputItems)e.input.addEventListener("input",()=>{e.input.classList.add("dirty"),Validation()});function Validation(){let e=!0;for(const t of inputItems){const s=t.input.value.trim();t.input.classList.contains("dirty")&&(""!==s&&t.regEx.test(s)?(t.feedback.textContent="قابل قبول",t.feedback.style.color="green",t.input.classList.remove("error-input-style"),t.input.classList.add("input-style")):(t.feedback.style.color="red",t.feedback.textContent=""===s?"ورودی نمیتواند خالی باشد":"مقدار نامعتبر است",t.input.classList.remove("input-style"),t.input.classList.add("error-input-style"),e=!1))}return e}subBtn.addEventListener("click",e=>{e.preventDefault(),CheckShowModal()});const modal=document.getElementById("modal"),closeModal=document.getElementById("closeModal"),modalMessage=document.querySelector(".modal-message");function ShowModal(){modal.classList.remove("hidden"),setTimeout(()=>{modal.classList.remove("opacity-0"),modal.classList.add("opacity-100")},150)}function CloseModal(){modal.classList.remove("opacity-100"),modal.classList.add("opacity-0"),setTimeout(()=>{modal.classList.add("hidden")},1e3)}function CheckShowModal(){Validation()?modalMessage.textContent=" ✅پیام با موفقیت ثبت شد":modalMessage.textContent="فیلدها را به درستی وارد کنید❌",ShowModal()}closeModal.addEventListener("click",CloseModal);